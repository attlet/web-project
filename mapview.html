<!DOCTYPE html>
<html>
 <head>
   <meta charset="utf-8">
   <title>My webpage</title>

 </head>
 <style>
   div#btn{
     width:50px;
     height:30px;
     background-color: lightgray;
   }
   div#btn:hover{
     background-color: red;
     color:white;
   }
   div#map{
    width : 60%;
    height: 100vh;
   }
 </style>
 <body>
   <div id="map"></div>
   <div id="btn" onclick="location.href='mainpage.html'">
     이전
   </div>

   </div>
   <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKNME0Uhqx2e6qwND1fuR3M40h_6YCJsI&callback=initialize"

   ></script>
   <script>
/*     function initMap(){
       var seoul = {lat: 37.5642135, lng: 127.0016985};
       var map = new google.maps.Map(
         document.getElementById('map'),{
           zoom:13, center: seoul
         });

     }*/
     window.onload = getLocation;
   function getLocation(){
       if(navigator.geolocation){
           navigator.geolocation.getCurrentPosition(locationSuccess, locationError, geo_options);
       }else{
           console.log("지오 로케이션 없음")
       }
   };
   // getLocation
   var latitude, longitude;
   function locationSuccess(p){
       latitude = p.coords.latitude,
       longitude = p.coords.longitude;
       initialize();
   }
   // locationSuccess
   function locationError(error){
       var errorTypes = {
           0 : "?",
           1 : "허용 안눌렀음",
           2 : "위치가 안잡힘",
           3 : "응답시간 지남"
       };
       var errorMsg = errorTypes[error.code];
   }
   // locationError
   var geo_options = {
     enableHighAccuracy: true,
     maximumAge        : 30000,
     timeout           : 27000
   };
   // geo_options
   var map;
   function initialize() {
       var myLatLng = new google.maps.LatLng(latitude, longitude);
       var mapOptions = {
           zoom: 16,
           center: myLatLng
       };
       var image = './pin.png';
       map = new google.maps.Map(document.getElementById('map'), mapOptions);
       var beachMarker = new google.maps.Marker({
           position: myLatLng,
           map: map,
           icon: image
       });
       //html 문서안에 map-canvas 엘리먼트에 맵을 그리라고 하는 것임
   }
   </script>


 </body>
</html>
